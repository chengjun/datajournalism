;(function(require,define,global,self,_,Backbone,ActiveXObject,require){ActiveXObject=window.ActiveXObject;;!function e(t,o,n){function r(a,s){if(!o[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+a+"'")}var c=o[a]={exports:{}};t[a][0].call(c.exports,function(e){var o=t[a][1][e];return r(o?o:e)},c,c.exports,e,t,o,n)}return o[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)r(n[a]);return r}({1:[function(e,t){!function(e,o){"undefined"!=typeof t&&t.exports?t.exports.browser=o():"function"==typeof define?define(o):this[e]=o()}("bowser",function(){function e(e){function o(t){var o=e.match(t);return o&&o.length>1&&o[1]||""}var n,r=o(/(ipod|iphone|ipad)/i).toLowerCase(),i=/like android/i.test(e),a=!i&&/android/i.test(e),s=o(/version\/(\d+(\.\d+)?)/i),l=/tablet/i.test(e),c=!l&&/[^-]mobi/i.test(e);/opera|opr/i.test(e)?n={name:"Opera",opera:t,version:s||o(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)}:/windows phone/i.test(e)?n={name:"Windows Phone",windowsphone:t,msie:t,version:o(/iemobile\/(\d+(\.\d+)?)/i)}:/msie|trident/i.test(e)?n={name:"Internet Explorer",msie:t,version:o(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:/chrome|crios|crmo/i.test(e)?n={name:"Chrome",chrome:t,version:o(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:r?(n={name:"iphone"==r?"iPhone":"ipad"==r?"iPad":"iPod"},s&&(n.version=s)):/sailfish/i.test(e)?n={name:"Sailfish",sailfish:t,version:o(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?n={name:"SeaMonkey",seamonkey:t,version:o(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel/i.test(e)?(n={name:"Firefox",firefox:t,version:o(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(n.firefoxos=t)):/silk/i.test(e)?n={name:"Amazon Silk",silk:t,version:o(/silk\/(\d+(\.\d+)?)/i)}:a?n={name:"Android",version:s}:/phantom/i.test(e)?n={name:"PhantomJS",phantom:t,version:o(/phantomjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?n={name:"BlackBerry",blackberry:t,version:s||o(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:/(web|hpw)os/i.test(e)?(n={name:"WebOS",webos:t,version:s||o(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(n.touchpad=t)):n=/bada/i.test(e)?{name:"Bada",bada:t,version:o(/dolfin\/(\d+(\.\d+)?)/i)}:/tizen/i.test(e)?{name:"Tizen",tizen:t,version:o(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||s}:/safari/i.test(e)?{name:"Safari",safari:t,version:s}:{},/(apple)?webkit/i.test(e)?(n.name=n.name||"Webkit",n.webkit=t,!n.version&&s&&(n.version=s)):!n.opera&&/gecko\//i.test(e)&&(n.name=n.name||"Gecko",n.gecko=t,n.version=n.version||o(/gecko\/(\d+(\.\d+)?)/i)),a||n.silk?n.android=t:r&&(n[r]=t,n.ios=t);var d="";r?(d=o(/os (\d+([_\s]\d+)*) like mac os x/i),d=d.replace(/[_\s]/g,".")):a?d=o(/android[ \/-](\d+(\.\d+)*)/i):n.windowsphone?d=o(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):n.webos?d=o(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):n.blackberry?d=o(/rim\stablet\sos\s(\d+(\.\d+)*)/i):n.bada?d=o(/bada\/(\d+(\.\d+)*)/i):n.tizen&&(d=o(/tizen[\/\s](\d+(\.\d+)*)/i)),d&&(n.osversion=d);var u=d.split(".")[0];return l||"ipad"==r||a&&(3==u||4==u&&!c)||n.silk?n.tablet=t:(c||"iphone"==r||"ipod"==r||a||n.blackberry||n.webos||n.bada)&&(n.mobile=t),n.msie&&n.version>=10||n.chrome&&n.version>=20||n.firefox&&n.version>=20||n.safari&&n.version>=6||n.opera&&n.version>=10||n.ios&&n.osversion&&n.osversion.split(".")[0]>=6?n.a=t:n.msie&&n.version<10||n.chrome&&n.version<20||n.firefox&&n.version<20||n.safari&&n.version<6||n.opera&&n.version<10||n.ios&&n.osversion&&n.osversion.split(".")[0]<6?n.c=t:n.x=t,n}var t=!0,o=e("undefined"!=typeof navigator?navigator.userAgent:"");return o._detect=e,o})},{}],2:[function(e,t){var o,n;n=e("bowser"),o=function(){function e(e){var t;this._browser=(null!=e?e.browser:void 0)||n.browser,this._browser.userAgent=e.userAgent,this._browser.needsSubmit=(null!=e?e.needsSubmit:void 0)||(null!=(t=this._browser.userAgent)?t.toLowerCase().indexOf("wii"):void 0)>-1,this._browser.compatMode=(null!=e?e.compatMode:void 0)||!1}return e.prototype.getBrowser=function(){return this._browser},e.prototype.isMobile=function(){return null!=this._browser.mobile||null!=this._browser.tablet},e.prototype.isTablet=function(){return null!=this._browser.tablet},e.prototype.getVersion=function(){return this._browser.version||"Unknown"},e.prototype.getTridentVersion=function(){var e,t;return e=null!=(t=this._browser.userAgent)?t.match(/Trident\/(\d+)/):void 0,e?e[1]:!1},e.prototype.getBrowserName=function(){return this._browser.name||"Unknown"},e.prototype.getMobileOS=function(){return this.isMobile()?null!=this._browser.ios?"iOS":null!=this._browser.android?"Android":null!=this._browser.blackberry?"Blackberry":null!=this._browser.firefoxos?"Firefox":null!=this._browser.webos?"WebOS":null!=this._browser.bada?"Bada":null!=this._browser.tizen?"Tizen":null!=this._browser.sailfish?"Sailfish":null!=this._browser.windowsphone?"Windows Phone":"Other":!1},e.prototype.getOSVersion=function(){return this._browser.osversion},e.prototype.isCompatMode=function(){return"BackCompat"===this._browser.compatMode},e.prototype.maxHeightIsSet=function(){var e;return"undefined"!=typeof(null!=(e=document.body)?e.style.maxHeight:void 0)},e.prototype.shouldUsePositionAbsolute=function(){return this._browser.msie?this.getVersion>=10||this.getTridentVersion()>=6||(this.getVersion>=7||this.maxHeightIsSet())&&!this.isCompatMode()?!1:!0:!1},e.prototype.needsSubmitButton=function(){return this._browser.needsSubmit},e}(),t.exports=o},{bowser:1}],3:[function(e,t){(function(e){var o;o=function(){function t(t){this._localStorage=(null!=t?t.localStorage:void 0)||e.localStorage}return t.prototype.getStaticHost=function(){var e;return e=this._localStorage&&this._localStorage.getItem("OLARK_HOST"),e&&this.isOlarkNetHost(e)?e:"static.olark.com"},t.prototype.isOlarkNetHost=function(e){return/\.olark\.net(\:\d+)?$/.test(e)},t}(),t.exports=o}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,t){var o,n,r,i,a,s,l;s=0,a=+new Date,l=0,n=4,r=10,i=null,o=function(){function e(e){this._window=e.window||window,this._document=this._window.document,this._samplingRate=e.samplingRate||.15,this._allowSampling=null!=e.allowSampling?e.allowSampling:!0}return e.prototype._send=function(e){var t;return t=new Image,t.src="//log.olark.com/jslog/log.png?"+e.join("&"),t.onload=function(){return t=null}},e.prototype.log=function(){var e,t,o,i,c,d,u,f;try{if(e=this._allowSampling,/\#(begin_conversation|perf_.+|missing_translation|triggered_rule_action|cobrowsing|deprecated_mixpanel|feedback_error|open_longpolling)/.test(arguments[0]||"")&&(e=!1),e&&Math.random()>this._samplingRate)return;if(l++,t=+new Date,1e3>=t-a){if(l>n)return;l=0,a=t}if(s++,s>r)return;return i=Array.prototype.slice.call(arguments||[]).join(" "),u=this._window.name||Math.random().toString().replace("0.","oktab"),d=null!=(f=/^oktab/.test(u))?f:{tabname:"unknown"},c=["actor=jsclient","application=unknown","version="+encodeURIComponent(olark._.chatboxBucketPostfix),"location="+encodeURIComponent(this._document.location.href.toString().slice(0,50)),"referrer="+encodeURIComponent(this._document.referrer.toString().slice(0,15)),"message="+encodeURIComponent(i),"tabname="+encodeURIComponent(d),"cachebreak="+encodeURIComponent((+new Date).toString())],olark._.identityManager.getConversationId()&&c.push("conversation_id="+encodeURIComponent(olark._.identityManager.getConversationId())),olark._.identityManager.getVisitorId()&&c.push("visitor_id="+encodeURIComponent(olark._.identityManager.getVisitorId())),olark._.identityManager.getSiteId()&&c.push("site_id="+encodeURIComponent(olark._.identityManager.getSiteId())),olark._.chatboxBucket&&c.push("bucket="+encodeURIComponent(olark._.chatboxBucket)),/olark\.net$/.test(this._window.location.hostname)&&window.console&&!/\#warn/.test(i)&&window.console.warn("[log] "+i),this._send(c)}catch(p){o=p}},e.getDefaultLogger=function(t){return i||(i=new e({window:t})),i},e}(),t.exports=o},{}],5:[function(e,t){var o=e("../chatbox/Env"),n=new o,r=e("../chatbox/BrowserInfo"),i=e("../chatbox/Logger.coffee");t.exports=function(e,t){function o(e){var t="CSS1Compat"===e.compatMode?e.documentElement:e.body,o=t.clientHeight,n=t.clientWidth;return[n,o]}function a(e){var t=[],o="string"==typeof e;o&&(e=e.split(""));for(var n=c(e.length,0,e.length);n.length;){var r=e.splice(n.pop()%e.length,1);t.push(r)}return o?t.join(""):t}function s(e){for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",o=e.replace(/[^\d]/g,"").match(/\d{1,2}/g),n="";o&&o.length;)n+=t.charAt(parseInt(o.pop())%t.length);return n}function l(){return"undefined"!=typeof e&&e.crypto&&e.crypto.getRandomValues}function c(t,o,n){var r=[];if(l()){var i=new Uint32Array(t);e.crypto.getRandomValues(i),r=Array.prototype.slice.call(i);for(var a=0;a<r.length;a++)r[a]=r[a]%(n-o+1)+o}else for(var s=0;t>s;s++)r.push(Math.floor(Math.random()*(n-o+1))+o);return r}function d(t,n,r){for(var i=e.navigator,d=n?s(n):"",u=(i.userLanguage||i.language).replace(/[^\w]/g,""),f=a(s(i.userAgent)),p=(new Date).getTimezoneOffset()/60+25,h=m.charAt(p%m.length),g=o(r),k=s(""+g[0]+g[1]),_=Array.prototype.slice.call(i.plugins.length?i.plugins:[]),w="";_.length;){var b=_.pop();b.name&&(w+=b.name),b.description&&(w+=b.description),b.version&&(w+=b.version)}var y=a(s(w)),I=Math.floor(v/3),x=Math.floor(v/4);l()&&(I=Math.floor(v/2),x=Math.floor(v/6));for(var S=c(I,0,m.length-1),M="";S.length;)M+=m.charAt(S.pop());var C=/googlebot/i.test(e.navigator.userAgent);return C?M=d.slice(0,x)+"g00g"+M:M+=d.slice(0,x),M+=k+h+y+f+u,M.slice(0,t)}function u(){this.__http_requests=[]}function f(e,t){this.cookieManager=e,this.targetWindow=t}function p(o,r){function a(){try{e.localStorage.setItem("testKey","testVal"),e.localStorage.removeItem("testKey")}catch(t){if("undefined"!=typeof e.localStorage&&null!==e.localStorage)return!0}return!1}function s(e,t){t=t||U;var n=t.createElement("script"),r="https:"==o.location.protocol?"https:":"http:";e=e.replace(/^\/\//,""),n.src=r+"//"+e,n.async=!0,n.defer=!0,n.setAttribute("data-cfasync","false"),(t.getElementsByTagName("head")[0]||t.getElementsByTagName("body")[0]||t.body).appendChild(n)}function l(e){e.sort(function(e,t){return t.length-e.length});for(var t=0;t<e.length;t++){var o=e[t];if(!/^\s*$/.test(o)){var n="."+o.replace(/^[\s\*\.]*/,"");if(U.location.hostname.indexOf(n.replace(/^\./,""))>=0)return n}}return null}function c(t,o){var n,r=e.XDomainRequest;return"undefined"!=typeof XMLHttpRequest&&(n=new XMLHttpRequest),n&&"withCredentials"in n?n.open(t,o,!0):"undefined"!=typeof r?(n=new r,n.open(t,o)):n=null,n}function p(n,r,i,a,l,d){var u=["c=create","u="+encodeURIComponent(U.location.href),"r="+encodeURIComponent(U.referrer),"s="+encodeURIComponent(n),"v="+encodeURIComponent(r),"i="+encodeURIComponent(i),"g="+encodeURIComponent(a||"ALL"),"q=precache"+Math.random().toString().replace(".",""),"j=o0","version=loader-precache","xhttp=1"];l&&(u.push("end_conversation=1"),A._.identityManager.isNewConversation()&&u.push("is_new_conversation=1"));var f=o.olark._.nrpcPrecache={response:null,responseCallback:null},p=function(e){f.response=e,f.responseCallback&&f.responseCallback(e)},h=d+"/c?"+u.join("&"),g="https:"===U.location.protocol?"https:":"http:",v=g+"//"+h,m=c("GET",v);if(m){m.onload=function(){try{var t=e.JSON.parse(m.responseText);p(t)}catch(o){_()}};var k=!1,_=function(){k||(k=!0,p({status:500}))};m.onerror=_,m.onabort=_,m.ontimeout=_,m.onprogress=function(){},A._.internalLog.logHttpRequest(h),m.send()}else{f.response={status:500};var w="_olark_callback_"+Math.random().toString().replace(".","");e[w]=function(t){p(t),e[w]=void 0;try{delete e[w]}catch(o){}};var b=h+"&cb="+w;s(b,t)}}function _(){return A._.cookieManager.get("_okac")}function w(e){A._.cookieManager.set("_okac",e)}function b(){return A._.cookieManager.get("_okla")}function y(e){A._.cookieManager.set("_okla",e)}function I(e){var o=_()||+new Date,n=b()||!1;V.P("getassets"),V.versions={follow:!0,popout:!0},n?s(V.assetHost+"/a/assets/v0/site/"+e+".js?cb="+o,t):s("static.olark.com/a/assets/v0/site/"+e+".js?cb="+o,t)}function x(e,t){var o=new RegExp(e+"=(([^;]+.)?(olark.(com|net)(%3A\\d+)?|battleship:\\d+)[^;]+)"),n=new RegExp(e+"=([a-zA-Z0-9]+)"),r=o.test(O)?O.match(o)[1]:null,i=n.test(O)?O.match(n)[1]:null;return r?/((assets|static)\.olark\.(com|net))/.test(r)?t:unescape(r):i?t+"?v="+i:t}function S(){var e=O.match(/(olarkid=(0000-0000-0000-0000|1470-860-10-9245))/);return e&&e[2]?e[2]:null}function M(e,t){return("https:"==o.location.protocol?"https:":"http:")+"//"+e+t}function C(n){var r="/storage.html?v=1431031283103",i=/^static\.olark\.com.+$/.test(n),a=i||"https:"==o.location.protocol,s=null,l=!(s||e.globalStorage)&&t.documentElement&&t.documentElement.addBehavior;return i&&l?"https://static.olark.com/jsclient"+A._.chatboxBucketPostfix+r:(a?"https":"http")+"://"+n+r}var B=i.getDefaultLogger(o),A=o.olark;A._.P("loader"),A._.chatboxBucketPostfix="";try{!function(){function t(e){return e=parseInt(e),e>2e4?2e4:e}function o(){if(w&&A._.preventBoot!==!0){var e=!1,a=[];!f&&d&&n.hasOwnProperty(p)&&n.hasOwnProperty(h)&&(a.push("#perf_getframe.loader0,"+i+"="+n[p]),a.push("#perf_frame.loader0,"+i+"="+n[h]),f=!0);for(var s in u)if(u.hasOwnProperty(s)&&!u[s]){var l=n[s];if("number"!=typeof l&&0>=_&&(l=+new Date-n[0]),"number"==typeof l){var c="";A._.chatboxBucket&&(c=","+A._.chatboxBucket),a.push("#perf_"+s+"."+r+","+i+c+"="+t(l)),u[s]=!0}else e=!0}_--,B.log("tracking performance data "+a.join(" ")),e&&setTimeout(o,v)}}var n=A._.p,i=(A._.v,"UnknownBrowser"),a=k.getBrowser().msie,s=a&&6==k.getVersion(),l=a&&7==k.getVersion(),c=a&&!(s||l);k.isMobile()?i="MobileBrowser":k.getBrowser().chrome?i="Chrome":k.getBrowser().safari?i="Safari":k.getBrowser().firefox?i="Firefox":k.getBrowser().opera?i="Opera":s?i="IE6":l?i="IE7":c&&(i="IE8Plus");var d=!1,u={application:!1,assets:!1,box:!1,connection:!1,extready:!1,getapplication:!1,getconnection:!1,idready:!1,load:!1,loader:!1},f=!1,p=1,h=2,g=5,v=3e3,m=2e3,_=g,w=Math.random()<.1?!0:/me\.olark\.net/.test(e.location.href);setTimeout(o,m)}()}catch(T){A("api.boot.onIdentityReady",function(){B.log("performance tracking #performance_tracking_error #error")})}var R=12e5,E="assets.olark.com",P=/^\s*(omp__super_properties)\s*$/,L=function(){function t(t,r,i,s,c,d,u){function f(){var o;if(i){var u=new Date;u.setTime(u.getTime()+i),o="; expires="+u.toGMTString()}else o="";var f,g=c?"; domain="+c:"",v=d?"; secure":"",k="; path="+s,_=escape(r.toString());p?0>i?localStorage.removeItem(h+t):localStorage.setItem(h+t,JSON.stringify({value:_,expires:i?(new Date).getTime()+i:null})):U.cookie=t+"="+_+o+g+k+v;var w=a();if(0>i?w[t]&&w[t].length>0&&w[t].shift():w[t]?w[t][0]=_:w[t]=[_],i>0&&216e7>i&&t!=m&&e.console&&e.console.warn&&e.console.warn("[olark] cookie expiration set too low for cache:",t),0>i){if(f=l(function(){return n(t)}),"undefined"!=typeof f)throw new Error("[olark] unable to delete cookie: "+t)}else if(f=l(function(){return n(t,!0)}),f!=r.toString())throw new Error("[olark] unable to set cookie: "+t+", expected "+r+" but got "+f)}var g=o!=o.top?"#iframe_cookie":"";if(r||0===r)try{f()}catch(v){if(u)throw v;try{p?localStorage.removeItem(h+t):U.cookie=t+"=;expires=Thu, 01-Jan-1970 00:00:01 GMT",f(),B.log("value of cookie",t,"was fixed #warn #cookie_needed_cleanpath",g)}catch(v){try{for(var k=o.location.hostname.split(".");k.length>2;)k.shift(),p?localStorage.removeItem(h+t):U.cookie=t+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; domain=."+k.join(".")+"; path="+s;f(),B.log("value of cookie",t,"was fixed #warn #cookie_needed_cleandomain",g)}catch(v){B.log(v.message,"#error #cookie_storefail",g)}}}else B.log("value of cookie",t,"was",r,", prevent write #error #cookie_writenull",g)}function n(e,t){var o=function(){var t=a(),o=t[e]||[];if(1==o.length)return o[0];if(0==o.length)return{}.undefinedValue;var n=P.test(e)?!0:!1;return n||B.log("got multiple values for",e,"-",o.join(", "),"#warn #cookie_orig_multivalue"),o[0]}(),n=o?unescape(o):o,r=t&&/^\s*$/.test(U.cookie)?" #emptycookie":"";return/^\s*$/.test(n)?(B.log("value of cookie",e,"is empty string, forcing to undefined #warn #cookie_emptystring"+r,"))"),n={}.undefinedValue):"null"==n?(B.log("value of cookie",e,"is a string 'null', looks like it should have been null, forcing to null #warn #cookie_readnull"+r),n=null):"undefined"==n?(B.log("value of cookie",e,"is a string 'undefined', looks like it should have been undefined, forcing to undefined #warn #cookie_readundefined"+r),n={}.undefinedValue):"**erased"==n&&(n={}.undefinedValue),n}function r(e,o,n){t(e,"**erased",-2592e6,c,d,o,n)}function i(t){for(var o,n=e.location.search.replace(/^\?/,"").split(/&/),r=n.length-1;r>=0;r--)if(o=n[r].split(/=/),o[0]==t)return o[1];return{}.undefinedValue}function a(){return(null===g||v)&&s(),g}function s(){if(g={},p){for(var e in localStorage)if(0===e.indexOf(h)){var t=e.replace(h,""),o=localStorage.getItem(h+t);if(o){var n=JSON.parse(o);n.expires&&n.expires<(new Date).getTime()?localStorage.removeItem(h+t):g[t]=[n.value]}}}else for(var r=U.cookie.split(";"),i=0;i<r.length;i++){var a=r[i],s=a.split("=")[0],l=s.replace(/^\s*/,"").replace(/^\s*/,""),c=a.substring(s.length+1,a.length);g[l]=g[l]||[],g[l].push(c)}}function l(t){var o;try{v=!0,o=t()}catch(n){e.console&&e.console.error&&e.console.error(n)}return v=!1,o}var c="/",d=null,u=!1,f={},p=/^file\:\/\//.test(o.location.href)&&"localStorage"in e?!0:!1,h="OLARK-",g={},v=!1,m="_okck";return{setPath:function(e){c=e},setDomain:function(e){d=e},setSecure:function(e){u=e},useLocalStorage:function(){p=!0,s()},isAllowedToWriteCookies:function(){function e(){try{return t(m,i,null,c,d,u,!0),r(m,u,!0),!0}catch(e){return f=e.toString(),!1}}function n(){try{return t(m,i,5e3,c,d,u,!0),r(m,u,!0),!0}catch(e){return f=e.toString(),!1}}var i=Math.random().toString().replace("0.",""),a=o!=o.top?!0:!1,s=o.navigator.cookieEnabled?!1:!0,f="";try{return s?(B.log("cannot set any cookies #nocookies_due_to_disabled"),!1):l(e)?l(n)?!0:(a?B.log("cannot set expirable cookies #nocookies_with_expiry_due_to_p3p",f):B.log("cannot set expirable cookies #nocookies_with_expiry",f),!1):(a?B.log("cannot set session cookies #nocookies_for_session_due_to_p3p",f):B.log("cannot set session cookies #nocookies_for_session",f),!1)}catch(p){return B.log("unexpected issue testing cookies:",p.message,"#error #unknown_cookie_test_error"),!1}},set:function(e,o,n){if(!f[e])try{t(e,o,n||null,c,d,u)}catch(r){B.log("failed to create cookie:",r.toString(),"#error  #cookie_badset")}},get:function(e,t){try{var o=n;return t&&(o=function(e){return l(function(){return n(e)})}),f[e]?i(e):o(e)}catch(r){return B.log("failed to read cookie:",r.toString(),"#error #cookie_badget"),null}},setAllowingNullAndUndefinedAndEmptyString:function(e,o,n){if(!f[e]){null===o?o="**null":"undefined"==typeof o?o="**undefined":""==o&&(o="**emptystr");try{t(e,o,n||null,c,d,u)}catch(r){B.log("failed to create cookie:",r.toString(),"#error  #cookie_badset")}}},getAllowingNullAndUndefinedAndEmptyString:function(e){try{var t=f[e]?i(e):n(e);return"**null"==t?t=null:"**undefined"==t?t={}.undefinedValue:"**emptystr"==t&&(t=""),t}catch(o){return B.log("failed to read cookie:",o.toString(),"#error #cookie_badget"),null}},erase:function(e){if(!f[e])try{r(e)}catch(t){B.log("failed to erase cookie:",t.toString(),"#error #cookie_baderase")}},backTheseCookiesByQueryString:function(e){for(var t=0;t<e.length;t++)f[e[t]]=!0},refresh:function(){s()}}}(),U=o.document,O=U.cookie,D=e.olark=o.olark,V=D._,j=V.callstack=V.s||[],H=L.get("_okgid"),N=!1;A._.f=null,A("api.boot.onIdentityReady",function(e){if(!A._.chatboxBucket){var t=1+parseInt(e.split("-")[0])%h;t=t||"bucket1",A._.chatboxBucket="bucket"+t,A._.chatboxBucketPostfix="-bucket"+t}}),A._.nrpcBaseUrl=parseInt(1e3*Math.random()).toString()+"-events.olark.com/nrpc",A._.maxMillisecondsConversationCanBeIdle=R,A._.identityManager=new f(L,o),A._.internalLog=new u;var q=!1;if(A("api.boot.onIdentityReady",function(e,t,o){q||(q=!0,p(e,t,o,H,N,A._.nrpcBaseUrl))}),L.isAllowedToWriteCookies()){A._.cookieManager=L;var W=!1;setTimeout(function(){W||A("load")},900),A._.setSiteAssetHash=w,A._.setLoaderUseAssets=y,A._.assetHost=E,A("api.boot.onIdentityReady",function(t,n,r){function i(){var s=o.clicky;if(s&&s.olark){a=!1;try{s.olark(t,n,r)}catch(l){e.console&&e.console.warn&&e.console.warn("[olark] unable to connect with clicky: "+l.toString())}}else a&&setTimeout(i,600)}var a=!0;A("api.boot.onWindowLoad",function(){setTimeout(function(){a=!1},2e3)}),i()}),A._.preventBoot=!1,A._.apiHost="https://api.olark.com";try{var $=/framed-by-olark/.test(o.location.hash);$&&(A._.preventBoot=!0)}catch(T){}var z=k.getBrowser().android&&k.isTablet(),F=k.getBrowser().android&&k.getOSVersion()<3,J=!k.isTablet()&&k.isMobile(),G=!0,K=!1,X=!z||F,Q=a();t!==U&&(t.body.style.cssText="height:100%;margin:0px;padding:0px;background:transparent"),function(){function t(e){var t=e.match(/(.+)\/javascript\/.+/);return t?t[1]:"static.olark.com"}function r(){A._.P("idready");var e,t=A._.identityManager.getSiteId(),o=A._.identityManager.getVisitorId(),n=A._.identityManager.getConversationId();if(t&&o&&n)for(e=O.length>0?O.shift():void 0;e;)e(t,o,n),e=O.length>0?O.shift():void 0}function i(){var e;if(T)for(e=q.length>0?q.shift():void 0;e;)e(),e=q.length>0?q.shift():void 0}function a(e){function t(e){var t=new RegExp("^["+m+"]+$");return t.test(e)?!0:!1}function n(){l=!0,A._.conversationId=d(v,e,U),L.set("wcsid",A._.conversationId),L.erase("_okbk"),L.erase("_okgid"),A._.isNewConversation=!0}function i(){l||B.log("creating new visitor ID when we already had a conversation ID #visitor_changed_on_conversation #warn"),A._.visitorId=d(v,e,U),L.set("hblid",A._.visitorId,63072e6)}var a=(A._.siteId=e,L.get("hblid")),s=L.get("wcsid"),l=!1,c=L.get("_okgid");s&&A._.identityManager.isConversationIdAlive()?$&&c!==H?n():t(s)||(B.log("regenerating invalid wcsid #warn #invalid_wcsid_in_cookie",s),n()):n(),a?t(a)||(B.log("regenerating invalid hblid #warn #invalid_hblid_in_cookie",a),i()):i(),A._.visitorId=A._.visitorId||a,A._.conversationId=A._.conversationId||s,L.get("hblid")!==A._.visitorId&&(B.log("hblid could not be set #error #noboot #unset_hblid"),A._.preventBoot=!0),L.get("wcsid")!==A._.conversationId&&(B.log("wcsid could not be set #error #noboot #unset_wcsid"),A._.preventBoot=!0),A._.visitorId&&A._.conversationId||(A._.preventBoot=!0,B.log("https:"==o.location.protocol?"preventing boot due to missing hblid/wcsid #noboot_on_ssl #warn":"preventing boot due to missing hblid/wcsid #noboot #warn")),A._.identityManager.keepConversationIdAlive(),A._.identityManager.watchConversationIdForExpiration(d(v,e,U)),r()}function c(e,t,o){if(!o||!F[e])switch(F[e]=!0,e){case"system.version":A._.chatboxBucket=t,A._.chatboxBucketPostfix="-"+t;break;case"system.asset_host":A._.assetHost=t;break;case"system.allow_mobile_boot":t&&(G=!1);break;case"system.forced_rpc_server":A._.nrpcBaseUrl=t;break;case"system.allow_ipad_boot":K=!t;break;case"system.ignore_window_onload":t&&A("load");break;case"system.allow_end_conversation":N=!0;break;case"system.wait_until_window_onload":t&&(W=!0);break;case"system.minimize_cookies":t&&L.useLocalStorage();break;case"system.path":L.setPath(t);break;case"system.domain":L.setDomain(t);break;case"system.require_secure_cookies":L.setSecure(t);break;case"system.allowed_domains":if(t.length){var n=l(t.split(/\s*,\s*/));n&&L.setDomain(n)}break;case"system.is_single_page_application":var r=1;setInterval(function(){A("api.chat.updateVisitorStatus",{snippet:(r++).toString()})},6e5);break;case"system.max_milliseconds_conversation_can_be_idle":A._.maxMillisecondsConversationCanBeIdle=t;break;case"system.group":H=t;break;case"system.force_offline":H=g;break;case"system.group_change_ends_chat":$=t?!0:!1;break;case"system.use_querystring_for_cookies":L.backTheseCookiesByQueryString(t||[]);break;case"system.api_host":A._.apiHost=t}}function u(){if(!(!T||!P||E||A._.preventBoot||J&&G||k.getBrowser().ipad&&K||z&&X||Q)){V.P("prepapplication");var e=n.getStaticHost();b=e+"/jsclient",/static\.olark\.com/.test(e)&&(b+=A._.chatboxBucketPostfix);var o=b+"/application2.js?v=1431031283103";w=x("olarkap",o),V.popout=M(b,"/popout.html?v=1431031283103"),V.follow=M(b,"/follow.html?v=1431031283103"),V.plugins=M(b,"/plugins"),V.storage=C(b),V.hlog=function(){B.log.apply(B,arguments)},y=t(w),D.__buildinfo={olarkfile:"/javascript/olark.js",jshost:y,dev:/^\s*static\.olark\.com\s*$/.test(y)?!1:!0,strict:"1"==L.get("olarkst")?!0:!1},V.P("getapplication"),s(w)}}function f(t){try{var o,n=t[0];switch(n){case"load":T||(T=!0,u(),i());break;case"api.chat.connect":E=!1,u();break;case"api.boot.onIdentityReady":return O.push(t[1]),r(),[t[0],function(){}];case"api.boot.onWindowLoad":return q.push(t[1]),i(),[t[0],function(){}];case"call":switch(t[1]){case"identify":o=S()||t[2][0],o&&(o=o.replace(/[^\-\d]/g,"")),_?o!==_&&e.console&&e.console.warn&&e.console.warn("[olark] cannot call olark.identify with different identities"):o?(_=o,I(_)):e.console&&e.console.warn&&e.console.warn("[olark] cannot call olark.identify with an empty identity");break;case"configure":var a=t[2][0],s=t[2][1];c(a,s)}}return t}catch(l){return B.log("unable to handle early deferred call:",l.message,"#warn #early_deferred_fail"),t}}var p,h,_,w,b,y,T=!1,R={},E=!1,P=!1,O=[],q=[],$=!1,F={};for(V.s={push:function(e){e[0];j.push(e),j[j.length-1]=f(e)}},V.finish=function(t){V.P("assets"),P=!0,t&&"string"!=typeof t&&(R=t,V.defaults=R);var o=V.defaults&&V.defaults.system&&V.defaults.system.http_traffic_blocked;if(o)return e.console&&e.console.warn&&e.console.warn("[olark] Olark Chat is turned off for this website, if you own this website please contact Olark via support@olark.com"),!1;var n=t.system;if(n)for(var r in n)n.hasOwnProperty(r)&&c("system."+r,n[r],!0);a(_),u()},V.P("callstackstart"),p=0;p<j.length;p++)h=j[p],j[p]=f(h);V.P("callstackfinish")}()}}var h=6,g="00000000000000000000000000000000",v=32,m="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",k=new r({userAgent:e.navigator.userAgent,compatMode:t.compatMode});return function(e){e.logHttpRequest=function(e){this.__http_requests.push(e)},e.getHttpRequests=function(){return this.__http_requests}}(u.prototype),function(t){t.getConversationId=function(){return olark._.conversationId||this.cookieManager.get("wcsid")},t.setConversationId=function(t){e.hbl&&(hbl.wcsid=t,hbl.client&&(hbl.client.sid=t,hbl.client.wcsid=t)),olark._.conversationId=t,this.cookieManager.set("wcsid",t)},t.deleteConversationId=function(){this.setConversationId(void 0),this.cookieManager.erase("wcsid")},t.getVisitorId=function(){return olark._.visitorId},t.setVisitorId=function(t){e.hbl&&(hbl.hblid=t,hbl.client&&(hbl.client.hblid=t)),olark._.visitorId=t,this.cookieManager.set("hblid",t,63072e6)},t.getSiteId=function(){return olark._.siteId||"missing-site-id"},t.setSiteId=function(t){e.hbl&&(hbl.siteid=t,hbl.client&&(hbl.client.siteid=t)),olark._.siteId=t},t.deleteIdentityFromCookies=function(){this.cookieManager.erase("wcsid"),this.cookieManager.erase("hblid"),this.cookieManager.erase("_okbk")},t.triggerIfIdentityIsReady=function(e){olark._.siteId&&olark._.visitorId&&olark._.conversationId&&e(olark._.siteId,olark._.visitorId,olark._.conversationId)},t.isNewConversation=function(){return olark._.isNewConversation},t.isConversationIdAlive=function(){var e=this.cookieManager.get("_oklv",!0);if(e){var t=e.split(","),o=parseInt(t[0]),n=t[1]||this.getConversationId(),r=+new Date-o;return n===this.getConversationId()&&r<olark._.maxMillisecondsConversationCanBeIdle}return!1},t.keepConversationIdAlive=function(){var e=[(+new Date).toString(),this.getConversationId()].join(",");this.cookieManager.set("_oklv",e)},t.watchConversationIdForExpiration=function(e){function t(){o.isConversationIdAlive()?o.keepConversationIdAlive():olark("api.chat.onReady",function(){o.targetWindow.hbl.client.eventmgr.handle("conversation_ended",{next_conversation_id:e})}),setTimeout(t,n)}var o=this,n=olark._.maxMillisecondsConversationCanBeIdle/20;t()},t.getOklvValueForPopout=function(){return[+new Date+864e5,this.getConversationId()].join(",")}}(f.prototype),{downloadAssetsAndApplication:p}}(window,document)},{"../chatbox/BrowserInfo":2,"../chatbox/Env":3,"../chatbox/Logger.coffee":4}],6:[function(e,t){t.exports=function(e,t){function o(t){e.olark&&e.olark._||(e.olark=e.olark||{},e.olark._=e.olark._||{},t())}function n(){try{var e=t.getElementsByTagName("head"),o=e[0],n=t.createElement("style");n.type="text/css",n.appendChild(t.createTextNode("")),"insertRule"in n.sheet?n.sheet.insertRule(".olark-key,#hbl_code,#olark-data{display: none !important;}"):"addRule"in n.sheet&&n.sheet.addRule(".olark-key,#hbl_code,#olark-data","display: none !important;"),o.appendChild(n)}catch(r){var i=t.getElementById("hbl_code"),a=t.getElementById("olark-data");i&&(i.style.display="none"),a&&(a.style.display="none")}}function r(t,o){var n=e.olark=function(){n._.s.push(arguments)};n._={p:{0:+new Date},P:function(e){n._.p[e]=new Date-n._.p[0]},s:[],l:null,i:t,f:null,v:o||"unknown"},n.configure=function(){n("call","configure",arguments)},n.extend=function(){n("call","extend",arguments)},n.declare=function(){n("call","declare",arguments)},n.identify=function(){n("call","identify",arguments)}}function i(){olark._.P("load"),olark("load")}function a(){return e.olark?e.olark.__k:void 0}function s(){function e(e,t){var o=e.className||"";return-1!=o.indexOf(t)}var o=t.getElementById("olark-key");if(o)return o.className;var n=t.getElementById("olark-data");if(n&&n.childNodes)for(var r=n.childNodes.length;r--;){var i=n.childNodes[r];if(e(i,"olark-key"))return i.id}for(var a=t.getElementsByTagName("a"),s=a.length;s--;){var l=a[s];if(e(l,"olark-key"))return l.id}return void 0}function l(){var e=t.getElementById("hbl_code");return e?e.href.split("#")[1]:void 0}function c(){return/.*\.?weymouthhonda.com$/.test(t.location.hostname)?"3097-167-10-5275":/.*\.?sea-shield.com$/.test(t.location.hostname)?"7090-381-10-7745":void 0}function d(){var e=a()||l()||l()||s()||c();return e?e=u(e):void 0}function u(e){return e?(e=e.replace("olark-","").replace("site-","").replace(/\s/g,""),""!=e?e:void 0):void 0}function f(o){function n(){d||(d=!0,o(),i())}var r,a,s,l,c,d=!1,u=t.getElementsByTagName("script");try{for(r in u)a=u[r],s=a.innerHTML,l=/(wc\.js|olark\.js)/.test(s),c=!/\w+\.write\(/.test(s),l&&c&&setTimeout(n,50)}catch(f){}e.addEventListener?e.addEventListener("load",n,!1):e.attachEvent("onload",n)}return{cleanUpSiteIdDomElements:n,createAsyncLoadHooks:r,trackWindowLoad:f,performWindowLoadForAsyncLoadHooks:i,determineSiteIdFromEmbed:d,filterSiteId:u,onFirstLoadOnly:o}}(window,document)},{}],7:[function(e,t){{var o=e("../../loaders/loadhelper");e("../../loaders/loadshim")}t.exports=function(e){null||(+new Date).toString();return o.downloadAssetsAndApplication(e.parent,"loader0"),olark}(window,document)},{"../../loaders/loadhelper":5,"../../loaders/loadshim":6}]},{},[7]);}).call(this);